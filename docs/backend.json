{
  "entities": {
    "Citizen": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Citizen",
      "type": "object",
      "description": "Represents a citizen user in the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Citizen entity."
        },
        "firstName": {
          "type": "string",
          "description": "First name of the citizen."
        },
        "lastName": {
          "type": "string",
          "description": "Last name of the citizen."
        },
        "email": {
          "type": "string",
          "description": "Email address of the citizen.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the citizen."
        },
        "address": {
          "type": "string",
          "description": "Address of the citizen."
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "email",
        "phone"
      ]
    },
    "Admin": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Admin",
      "type": "object",
      "description": "Represents an administrator user in the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Admin entity."
        },
        "firstName": {
          "type": "string",
          "description": "First name of the admin."
        },
        "lastName": {
          "type": "string",
          "description": "Last name of the admin."
        },
        "email": {
          "type": "string",
          "description": "Email address of the admin.",
          "format": "email"
        }
      },
      "required": [
        "id",
        "firstName",
        "lastName",
        "email"
      ]
    },
    "Complaint": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Complaint",
      "type": "object",
      "description": "Represents a complaint submitted by a citizen.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Complaint entity."
        },
        "citizenId": {
          "type": "string",
          "description": "Reference to Citizen. (Relationship: Citizen 1:N Complaint)"
        },
        "title": {
          "type": "string",
          "description": "Title of the complaint."
        },
        "category": {
          "type": "string",
          "description": "Category of the complaint (e.g., road, water, electricity)."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the complaint."
        },
        "location": {
          "type": "string",
          "description": "Location/address of the complaint."
        },
        "priority": {
          "type": "string",
          "description": "Priority level of the complaint (low, medium, high)."
        },
        "date": {
          "type": "string",
          "description": "Date the complaint was submitted.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "Status of the complaint (Pending, In Progress, Resolved, Rejected)."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the image uploaded for the complaint (optional).",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "citizenId",
        "title",
        "category",
        "description",
        "location",
        "priority",
        "date",
        "status"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/citizens/{citizenId}",
        "definition": {
          "entityName": "Citizen",
          "schema": {
            "$ref": "#/backend/entities/Citizen"
          },
          "description": "Stores citizen user profiles. The 'citizenId' is the Firebase Authentication UID. The document ID is equal to the Firebase Auth UID.",
          "params": [
            {
              "name": "citizenId",
              "description": "The Firebase Auth UID of the citizen."
            }
          ]
        }
      },
      {
        "path": "/admins/{adminId}",
        "definition": {
          "entityName": "Admin",
          "schema": {
            "$ref": "#/backend/entities/Admin"
          },
          "description": "Stores administrator user profiles. The 'adminId' is the Firebase Authentication UID. The document ID is equal to the Firebase Auth UID.",
          "params": [
            {
              "name": "adminId",
              "description": "The Firebase Auth UID of the admin."
            }
          ]
        }
      },
      {
        "path": "/complaints/{complaintId}",
        "definition": {
          "entityName": "Complaint",
          "schema": {
            "$ref": "#/backend/entities/Complaint"
          },
          "description": "Stores all complaints in a single top-level collection."
        }
      }
    ]
  }
}
